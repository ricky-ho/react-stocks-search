(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],Array(18).concat([function(e,t,c){},,function(e,t,c){},function(e,t,c){},,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var r=c(2),n=c(9),s=c.n(n),a=c(4),i=c.n(a),o=c(5),l=c(3),d=c(8),j=function(e,t){if(null===e||null===t)return null;var c=Number(e)>=0?"+":"";return"".concat(c).concat(e," (").concat(c).concat(t,"%)")},u=function(e){return null===e?null:Number.parseFloat(e).toFixed(2)},h=function(e){if(null===e)return null;var t=1e12;return e/t>1?"".concat((e/t).toFixed(3),"T"):e/1e9>1?"".concat((e/1e9).toFixed(2),"B"):"".concat((e/1e6).toFixed(2),"M")},b=function(){var e=Object(o.a)(i.a.mark((function e(t){var c,r,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://cloud.iexapis.com/stable/stock/".concat(t,"/batch?types=quote,company,news,intraday-prices&last=3&token=").concat("pk_e9f5f17a569e4c96bbd484544e9302f5"));case 3:if((c=e.sent).ok){e.next=6;break}return e.abrupt("return",m(c,t));case 6:return e.next=8,c.json();case 8:if(null!==(r=e.sent).quote&&null!==r.company){e.next=12;break}return n={status:404},e.abrupt("return",m(n,t));case 12:return e.abrupt("return",Object(d.a)(Object(d.a)({},r),{},{quote:x(r.quote),company:O(r.company)}));case 15:return e.prev=15,e.t0=e.catch(0),s={status:500},e.abrupt("return",m(s));case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=p(e.status,t);return{error:!0,status:e.status,message:e.statusText||c}},x=function(e){return{symbol:e.symbol,companyName:e.companyName,primaryExchange:e.primaryExchange,open:u(e.open),previousClose:u(e.previousClose),high:u(e.high),low:u(e.low),latestPrice:u(e.latestPrice),latestSource:e.latestSource,latestUpdate:e.latestUpdate,latestVolume:e.latestVolume,volume:e.volume,avgTotalVolume:e.avgTotalVolume,change:u(e.change),changePercent:u(100*e.changePercent),week52High:u(e.week52High),week52Low:u(e.week52Low),peRatio:u(e.peRatio),marketCap:e.marketCap}},O=function(e){return{description:e.description,CEO:e.CEO,employees:e.employees,sector:e.sector,industry:e.industry,city:e.city,state:e.state}},p=function(e,t){return 400===e?"Error: Bad request":401===e?"Error: Forbidden":402===e?"Error: Free API credit limit has been exceeded":403===e?"Error: The API token provided is no longer valid":404===e?'No results found for "'.concat(t,'"'):429===e?"Error: Too many requests":451===e?"Error: Requested data requires additional permission to access":"Internal server error"},f=function(){var e=Object(r.useState)({}),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(r.useState)(!0),a=Object(l.a)(s,2),d=a[0],j=a[1];return Object(r.useEffect)((function(){(function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("TSLA");case 2:t=e.sent,n(t),j(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){window.scrollTo(0,0)}),[c]),{symbolData:c,isLoading:d,handleSearch:function(){var e=Object(o.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,b(t);case 3:c=e.sent,n(c),j(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},v=c(10),y=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),c=t[0],n=t[1];return Object(r.useEffect)((function(){var e=function(){var e=window.pageYOffset;n(e)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]),c},w=(c(18),c(1)),g=function(e){var t=e.searchSubmit,c=y(),n=Object(r.useState)(""),s=Object(l.a)(n,2),a=s[0],i=s[1];return Object(w.jsx)("header",{id:"header",className:"".concat(c>25?"header-sticky":""),children:Object(w.jsxs)("form",{action:"",onSubmit:function(e){return function(e){e.preventDefault(),t(a),i("")}(e)},children:[Object(w.jsx)("input",{type:"text",placeholder:"Search by ticker symbol...",title:"",value:a,onChange:function(e){return i(e.target.value.toUpperCase())},required:!0}),Object(w.jsx)("button",{type:"submit",className:"search-btn","aria-label":"Submit search",children:Object(w.jsx)(v.a,{className:"search-icon"})})]})})},k=function(e){return null===e?null:new Date(e).toLocaleString([],{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZone:"America/New_York",timeZoneName:"short"})},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,c={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},r=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),n=e-t;for(var s in c)if(Math.abs(n)>c[s]||"second"==s)return r.format(Math.round(n/c[s]),s)},E=(c(20),function(e){var t=e.data;return Object(w.jsxs)("section",{id:"quote-section",children:[Object(w.jsxs)("p",{className:"quote-meta",children:[t.primaryExchange?"".concat(t.primaryExchange," | "):"","Currency in USD"]}),Object(w.jsxs)("p",{className:"quote",children:[t.latestPrice||"--",Object(w.jsxs)("span",{className:"".concat(Number(t.change)>=0?"color-bullish":"color-bearish"),children:[" ",j(t.change,t.changePercent)||"-- (--)"]})]}),Object(w.jsxs)("p",{className:"quote-meta",children:[t.latestSource||"--"," |"," ",k(t.latestUpdate)||"--"," |"," ",Object(w.jsx)("a",{href:"https://iexcloud.io",rel:"noopener noreferrer",target:"_blank",children:"IEX Cloud"})]})]})}),S=(c(21),function(e){var t=e.data;return Object(w.jsx)("section",{id:"stats-section",children:Object(w.jsxs)("div",{className:"stats-content",children:[Object(w.jsx)("table",{children:Object(w.jsxs)("tbody",{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Prev. Close"}),Object(w.jsx)("td",{children:t.previousClose||"--"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Open"}),Object(w.jsx)("td",{children:t.open||"--"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"High"}),Object(w.jsx)("td",{children:t.high||"--"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Low"}),Object(w.jsx)("td",{children:t.low||"--"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Volume"}),Object(w.jsx)("td",{children:h(t.latestVolume)||"--"})]})]})}),Object(w.jsx)("table",{children:Object(w.jsxs)("tbody",{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Marketcap"}),Object(w.jsx)("td",{children:h(t.marketCap)||"--"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"P/E"}),Object(w.jsx)("td",{children:t.peRatio||"--"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"52 Week High"}),Object(w.jsx)("td",{children:t.week52High||"--"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"52 Week Low"}),Object(w.jsx)("td",{children:t.week52Low||"--"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Avg. Volume"}),Object(w.jsx)("td",{children:h(t.avgTotalVolume)||"--"})]})]})})]})})}),C=c(11),F=c.n(C),T=(c(26),function(e){var t=e.data,c=e.priceChange,r=function(e){return[{name:"Price",data:e.map((function(t,c){return null===t.close&&0!==c&&(t.close=e[c-1].close),[Date.parse("".concat(t.date," ").concat(t.minute)),t.close]}))}]}(t),n=function(e){var t=e>0?"#00873c":"#eb0f29";return{chart:{id:"area-datetime",type:"area",zoom:{enabled:!1},animations:{enabled:!1},fill:{enabled:!0}},dataLabels:{enabled:!1},grid:{show:!0,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}},padding:{top:5}},markers:{size:0,colors:["black"],strokeWidth:0,showNullDataPoints:!1,hover:{size:4}},stroke:{colors:[t],width:2},fill:{type:"solid",colors:[t],opacity:.3},xaxis:{type:"datetime",labels:{datetimeFormatter:{hour:"h:mm TT",minute:"h:mm TT"},datetimeUTC:!1},axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{show:!0,position:"back",stroke:{color:"gray",dashArray:2}}},yaxis:{decimalsInFloat:2,axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{show:!0,position:"back",stroke:{color:"#909090",dashArray:2}},tooltip:{enabled:!0}},tooltip:{enabled:!0,x:{formatter:function(e){return k(e-108e5)}},y:{formatter:function(e){return"$".concat(e.toFixed(2))}},marker:{show:!1}}}}(c);return Object(w.jsxs)("section",{id:"chart-section",children:[Object(w.jsxs)("p",{className:"chart-disclaimer",children:[Object(w.jsx)("span",{children:"DISCLAIMER:"})," Due to IEX Cloud's free tier restrictions, only the intraday prices will be displayed."]}),Object(w.jsx)(F.a,{options:n,series:r,type:"area",height:450,width:"100%"})]})}),q=(c(27),function(e){var t=e.data;return Object(w.jsx)("div",{className:"company-profile",children:Object(w.jsx)("table",{children:Object(w.jsxs)("tbody",{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Sector"}),Object(w.jsx)("td",{children:t.sector?t.sector:"--"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Industry"}),Object(w.jsx)("td",{children:t.industry?t.industry:"--"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"CEO"}),Object(w.jsx)("td",{children:t.CEO?t.CEO:"--"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Employees"}),Object(w.jsx)("td",{children:t.employees?t.employees.toLocaleString("en-US"):"--"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Headquarters"}),Object(w.jsx)("td",{children:t.city&&t.state?"".concat(t.city,", ").concat(t.state):"--"})]})]})})})}),L=c(7),I=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(r.useState)(!1),a=Object(l.a)(s,2),i=a[0],o=a[1],d=Object(r.createRef)();return Object(r.useEffect)((function(){d.current.clientHeight<d.current.scrollHeight&&o(!0)}),[d]),Object(r.useEffect)((function(){d.current.style.height=c?"100%":"150px"}),[d,c]),{showMore:c,setShowMore:n,contentOverflow:i,descriptionRef:d}},P=(c(28),function(e){var t=e.description,c=I(),r=c.showMore,n=c.setShowMore,s=c.contentOverflow,a=c.descriptionRef;return t&&""!==t?Object(w.jsxs)("div",{className:"company-description--wrapper",children:[Object(w.jsx)("div",{ref:a,className:"company-description ".concat(s&&!r?"fade-active":""),children:t}),s&&Object(w.jsx)("button",{id:"expand-btn",type:"text",onClick:function(){return n(!r)},children:Object(w.jsx)("span",{children:r?Object(w.jsxs)(w.Fragment,{children:["Fold",Object(w.jsx)(L.b,{className:"expand-btn--icon"})]}):Object(w.jsxs)(w.Fragment,{children:["More",Object(w.jsx)(L.a,{className:"expand-btn--icon"})]})})})]}):Object(w.jsx)("div",{ref:a,className:"no-description",children:Object(w.jsx)("p",{children:"Company description not available."})})}),A=(c(29),function(e){var t=e.data,c=e.symbol;return Object(w.jsxs)("section",{id:"company-section",children:[Object(w.jsx)("h2",{children:"About ".concat(c)}),Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsx)(q,{data:t}),Object(w.jsx)(P,{description:t.description})]})]})}),M=(c(30),function(e){var t=e.article;return Object(w.jsx)("article",{className:"newscard",children:Object(w.jsx)("a",{href:t.url,rel:"noopener noreferrer",target:"_blank","aria-label":"View the full article, ".concat(t.headline),children:Object(w.jsxs)("div",{className:"newscard-inner--wrapper",children:[Object(w.jsx)("div",{className:"newscard-img--wrapper",children:Object(w.jsx)("img",{src:t.image,alt:"".concat(t.headline),className:"newscard-img",onError:function(e){return e.target.src="".concat("/react-stocks-search","/images/unavailable.jpg")}})}),Object(w.jsxs)("div",{className:"newscard-content",children:[Object(w.jsx)("h3",{children:t.headline||"--"},t.url),Object(w.jsxs)("p",{className:"content-meta",children:[t.source||"--"," | ",N(t.datetime)]}),Object(w.jsx)("p",{className:"content-summary",children:t.summary||"--"})]})]})})})}),D=(c(31),function(e){var t=e.data;return Object(w.jsxs)("section",{id:"news",className:"display-section",children:[Object(w.jsx)("h2",{className:"",children:"Recent News"}),t.length>0?t.map((function(e,t){return Object(w.jsx)(M,{article:e},t)})):Object(w.jsx)("div",{id:"empty-news",children:Object(w.jsx)("p",{children:"No recent news found."})})]})}),R=(c(32),function(e){var t=e.data;return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"error",children:[Object(w.jsx)("img",{src:"".concat("/react-stocks-search","/images/error.svg"),alt:"Error"}),Object(w.jsx)("h1",{children:t.message})]})})}),V=(c(33),function(e){var t=e.data,c=t.quote,r=t.company,n=t.news;return t.error?Object(w.jsx)(R,{data:t}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{className:"main-title",children:"(".concat(c.symbol,") ").concat(c.companyName)}),Object(w.jsxs)("div",{className:"main-item",children:[Object(w.jsx)(E,{data:c}),Object(w.jsx)(S,{data:c})]}),Object(w.jsx)("div",{className:"main-item",children:Object(w.jsx)(T,{data:t["intraday-prices"],priceChange:c.change})}),Object(w.jsx)("div",{className:"main-item",children:Object(w.jsx)(A,{data:r,symbol:c.symbol})}),Object(w.jsx)("div",{className:"main-item last",children:Object(w.jsx)(D,{data:n})})]})}),H=(c(34),function(){return Object(w.jsx)("footer",{id:"footer",children:Object(w.jsxs)("div",{className:"footer-content",children:[Object(w.jsxs)("p",{id:"attribution",children:["Market data provided by"," ",Object(w.jsx)("a",{href:"https://iexcloud.io",rel:"noopener noreferrer",target:"_blank",children:"IEX Cloud"})]}),Object(w.jsx)("a",{href:"https://github.com/ricky-ho/react-stocks-search",rel:"noopener noreferrer",target:"_blank",className:"link",children:Object(w.jsx)("p",{children:"View source code"})})]})})}),U=c(12),_=(c(35),function(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("div",{className:"spinner-container",children:Object(w.jsx)(U.a,{className:"spinner",size:"50px"})})})}),B=(c(36),function(){var e=f(),t=e.symbolData,c=e.isLoading,r=e.handleSearch;return Object(w.jsxs)("div",{id:"App",children:[Object(w.jsx)(g,{searchSubmit:r}),Object(w.jsx)("main",{children:c?Object(w.jsx)(_,{}):Object(w.jsx)(V,{data:t})}),Object(w.jsx)(H,{})]})});s.a.render(Object(w.jsx)(B,{}),document.getElementById("root"))}]),[[37,1,2]]]);
//# sourceMappingURL=main.9821aa6e.chunk.js.map